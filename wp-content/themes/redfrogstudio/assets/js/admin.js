!function(){"use strict";var e,u,i,n,a,t,o,l,s;function c(a){var t={},e=!1;a.attr("data-modaal-type")&&(e=!0,t.type=a.attr("data-modaal-type")),a.attr("data-modaal-content-source")&&(e=!0,t.content_source=a.attr("data-modaal-content-source")),a.attr("data-modaal-animation")&&(e=!0,t.animation=a.attr("data-modaal-animation")),a.attr("data-modaal-animation-speed")&&(e=!0,t.animation_speed=a.attr("data-modaal-animation-speed")),a.attr("data-modaal-after-callback-delay")&&(e=!0,t.after_callback_delay=a.attr("data-modaal-after-callback-delay")),a.attr("data-modaal-is-locked")&&(e=!0,t.is_locked="true"===a.attr("data-modaal-is-locked")),a.attr("data-modaal-hide-close")&&(e=!0,t.hide_close="true"===a.attr("data-modaal-hide-close")),a.attr("data-modaal-background")&&(e=!0,t.background=a.attr("data-modaal-background")),a.attr("data-modaal-overlay-opacity")&&(e=!0,t.overlay_opacity=a.attr("data-modaal-overlay-opacity")),a.attr("data-modaal-overlay-close")&&(e=!0,t.overlay_close="false"!==a.attr("data-modaal-overlay-close")),a.attr("data-modaal-accessible-title")&&(e=!0,t.accessible_title=a.attr("data-modaal-accessible-title")),a.attr("data-modaal-start-open")&&(e=!0,t.start_open="true"===a.attr("data-modaal-start-open")),a.attr("data-modaal-fullscreen")&&(e=!0,t.fullscreen="true"===a.attr("data-modaal-fullscreen")),a.attr("data-modaal-custom-class")&&(e=!0,t.custom_class=a.attr("data-modaal-custom-class")),a.attr("data-modaal-close-text")&&(e=!0,t.close_text=a.attr("data-modaal-close-text")),a.attr("data-modaal-close-aria-label")&&(e=!0,t.close_aria_label=a.attr("data-modaal-close-aria-label")),a.attr("data-modaal-background-scroll")&&(e=!0,t.background_scroll="true"===a.attr("data-modaal-background-scroll")),a.attr("data-modaal-width")&&(e=!0,t.width=parseInt(a.attr("data-modaal-width"))),a.attr("data-modaal-height")&&(e=!0,t.height=parseInt(a.attr("data-modaal-height"))),a.attr("data-modaal-confirm-button-text")&&(e=!0,t.confirm_button_text=a.attr("data-modaal-confirm-button-text")),a.attr("data-modaal-confirm-cancel-button-text")&&(e=!0,t.confirm_cancel_button_text=a.attr("data-modaal-confirm-cancel-button-text")),a.attr("data-modaal-confirm-title")&&(e=!0,t.confirm_title=a.attr("data-modaal-confirm-title")),a.attr("data-modaal-confirm-content")&&(e=!0,t.confirm_content=a.attr("data-modaal-confirm-content")),a.attr("data-modaal-gallery-active-class")&&(e=!0,t.gallery_active_class=a.attr("data-modaal-gallery-active-class")),a.attr("data-modaal-loading-content")&&(e=!0,t.loading_content=a.attr("data-modaal-loading-content")),a.attr("data-modaal-loading-class")&&(e=!0,t.loading_class=a.attr("data-modaal-loading-class")),a.attr("data-modaal-ajax-error-class")&&(e=!0,t.ajax_error_class=a.attr("data-modaal-ajax-error-class")),a.attr("data-modaal-instagram-id")&&(e=!0,t.instagram_id=a.attr("data-modaal-instagram-id")),e&&a.modaal(t)}function r(i){let n=0;i("#ks-generate-xgen").off("click").on("click",function(a){a.preventDefault(),function o(){i.ajax({url:KsAdmin.ajax_url,method:"POST",data:{action:"AjaXgenGenerator",start:n,limit:1},success:function(a){var t,e;a.success?(n=a.data.next_start,t=a.data.total_images,e=((n<t?n:t)/t*100).toFixed(2),i("#ks-generate-xgen-bar").html(`
											<div class="progress" style="width: ${e}%">${e}%</div>
									`),i("#xgen-live-image").html('<img src="'+a.data.thumbnail+'" />'),n<t?o():console.log("All images processed")):console.error("Error processing chunk")}})}(),i(this).remove()})}function d(e){e("#ks-delete-xgen").off("click").on("click",function(a){a.preventDefault(),function t(a=0){console.log(a),e.ajax({url:KsAdmin.ajax_url,method:"POST",data:{action:"AjaxDeleteXgenMeta",offset:a},success:function(a){a.success?(console.log(a.data.processed),a.data.next_offset&&(console.log(a.data.next_offset),t(a.data.next_offset))):console.error("Error deleting xGen Meta chunk")}})}()})}function m(o){o("#ks-delete-webp").off("click").on("click",function(a){a.preventDefault(),function t(a=0,e=5){console.log(a),o.ajax({url:KsAdmin.ajax_url,method:"POST",data:{action:"AjaxDeleteWebPImages",start:a,limit:e},success:function(a){a.success?a.data.next_start&&(console.log(a.data.next_start),t(a.data.next_start,e)):(console.log(a),console.error("Error deleting xGen Meta chunk"))}})}()})}function p(a){var t,e,o={trigger:a("#component-request-trigger"),form:a("#component-request-form"),button:a("#component-request-submit"),content:a("#component-request"),container:a("#component-request-container"),message_container:a("#component-request-container .message-container"),form_html:a("#component-request-container").html(),action:"ks_component_request",class:a(".admin-modal.component-request"),ajax_url:KsAdmin.ajax_url};e=a,(t=o).trigger.modaal({type:"inline",content_source:"#component-request",hide_close:!0,background:"#1d2327",overlay_opacity:.8,width:680,animation_speed:100,overlay_close:!1,custom_class:"admin-modal component-request",after_open:function(){var l,s,c;s=e,c=!1,(l=t).form.on("submit",function(a){if(a.preventDefault(),!c){c=!0,l.button.prop("disabled",!0);for(var t={},e=l.form.serializeArray(),o=0;o<e.length;o++){var i=e[o].name,n=e[o].value;t[i]=n}s.post({url:l.ajax_url,type:"post",dataType:"json",data:{action:l.action,data:t,_ajax_nonce:t.nonce},beforeSend:function(){l.container.addClass("active")},success:function(a){var t,e;a=a,e=s,(t=l).container.removeClass("active"),t.container.addClass("success"),t.form.remove(),t.container.html(a.data),e(".close-modal-icon").on("click",function(){t.trigger.modaal("close")})},error:function(a){var t,e;e=s,(t=l).container.removeClass("active"),t.message_container.addClass("is-active is-error").html('<div class="alert alert-danger" role="alert">An error occurred while submitting your component request. Please refresh this page and try submitting your request again. If the error continues, please notify the Webmaster.</div>'),t.button.remove(),e(".close-modal-icon").on("click",function(){t.trigger.modaal("close")})},complete:function(){var a;a=l,s(".close-modal-icon").on("click",function(){a.trigger.modaal("close")})}})}}),e(".close-modal-icon").on("click",function(){t.trigger.modaal("close")})}}),a(".close-modal-icon").on("click",function(){o.trigger.modaal("close")})}a=window,e={},a.KSFilterJS={addFilter:function(a,t){e[a]=e[a]||[],e[a].push(t)},applyFilters:function(a,t){return e[a]?e[a].reduce((a,t)=>t(a),t):t}},u=jQuery,i={init:function(a,t){var e=this;e.dom=u("body"),e.$elem=u(t),e.options=u.extend({},u.fn.modaal.options,e.$elem.data(),a),e.xhr=null,e.scope={is_open:!1,id:"modaal_"+(new Date).getTime()+Math.random().toString(16).substring(2),source:e.options.content_source||e.$elem.attr("href")},e.$elem.attr("data-modaal-scope",e.scope.id),e.private_options={active_class:"is_active"},e.lastFocus=null,e.options.is_locked||"confirm"==e.options.type||e.options.hide_close?e.scope.close_btn="":e.scope.close_btn='<button type="button" class="modaal-close" id="modaal-close" aria-label="'+e.options.close_aria_label+'"><span>'+e.options.close_text+"</span></button>","none"===e.options.animation&&(e.options.animation_speed=0,e.options.after_callback_delay=0),u(t).on("click.Modaal",function(a){a.preventDefault(),e.create_modaal(e,a)}),a=!0===e.options.outer_controls?"outer":"inner",e.scope.prev_btn='<button type="button" class="modaal-gallery-control modaal-gallery-prev modaal-gallery-prev-'+a+'" id="modaal-gallery-prev" aria-label="Previous image (use left arrow to change)"><span>Previous Image</span></button>',e.scope.next_btn='<button type="button" class="modaal-gallery-control modaal-gallery-next modaal-gallery-next-'+a+'" id="modaal-gallery-next" aria-label="Next image (use right arrow to change)"><span>Next Image</span></button>',!0===e.options.start_open&&e.create_modaal(e)},create_modaal:function(a,t){var e,a=this;if(a.lastFocus=a.$elem,!1!==a.options.should_open&&("function"!=typeof a.options.should_open||!1!==a.options.should_open())){switch(a.options.before_open.call(a,t),a.options.type){case"inline":a.create_basic();break;case"ajax":e=a.options.source(a.$elem,a.scope.source),a.fetch_ajax(e);break;case"confirm":a.options.is_locked=!0,a.create_confirm();break;case"image":a.create_image();break;case"iframe":e=a.options.source(a.$elem,a.scope.source),a.create_iframe(e);break;case"video":a.create_video(a.scope.source);break;case"instagram":a.create_instagram()}a.watch_events()}},watch_events:function(){var o=this;o.dom.off("click.Modaal keyup.Modaal keydown.Modaal"),o.dom.on("keydown.Modaal",function(a){var t=a.keyCode,a=a.target;9==t&&o.scope.is_open&&!u.contains(document.getElementById(o.scope.id),a)&&u("#"+o.scope.id).find('*[tabindex="0"]').focus()}),o.dom.on("keyup.Modaal",function(a){var t=a.keyCode,e=a.target;if(a.shiftKey&&9==a.keyCode&&o.scope.is_open&&(u.contains(document.getElementById(o.scope.id),e)||u("#"+o.scope.id).find(".modaal-close").focus()),!o.options.is_locked&&27==t&&o.scope.is_open)return!u(document.activeElement).is("input:not(:checkbox):not(:radio)")&&void o.modaal_close();"image"==o.options.type&&(37==t&&o.scope.is_open&&!u("#"+o.scope.id+" .modaal-gallery-prev").hasClass("is_hidden")&&o.gallery_update("prev"),39==t)&&o.scope.is_open&&!u("#"+o.scope.id+" .modaal-gallery-next").hasClass("is_hidden")&&o.gallery_update("next")}),o.dom.on("click.Modaal",function(a){a=u(a.target);!o.options.is_locked&&(o.options.overlay_close&&a.is(".modaal-inner-wrapper")||a.is(".modaal-close")||a.closest(".modaal-close").length)?o.modaal_close():a.is(".modaal-confirm-btn")?(a.is(".modaal-ok")&&o.options.confirm_callback.call(o,o.lastFocus),a.is(".modaal-cancel")&&o.options.confirm_cancel_callback.call(o,o.lastFocus),o.modaal_close()):a.is(".modaal-gallery-control")&&!a.hasClass("is_hidden")&&(a.is(".modaal-gallery-prev")&&o.gallery_update("prev"),a.is(".modaal-gallery-next"))&&o.gallery_update("next")})},build_modal:function(a){var t,e=this,o="",i=("instagram"==e.options.type&&(o=" modaal-instagram"),"video"==e.options.type?"modaal-video-wrap":"modaal-content");switch(e.options.animation){case"fade":t=" modaal-start_fade";break;case"slide-down":t=" modaal-start_slidedown";break;default:t=" modaal-start_none"}var n="",l=(e.options.fullscreen&&(n=" modaal-fullscreen"),""===e.options.custom_class&&void 0===e.options.custom_class||(e.options.custom_class=" "+e.options.custom_class),""),s=(e.options.width&&e.options.height&&"number"==typeof e.options.width&&"number"==typeof e.options.height?l=' style="max-width:'+e.options.width+"px;height:"+e.options.height+'px;overflow:auto;"':e.options.width&&"number"==typeof e.options.width?l=' style="max-width:'+e.options.width+'px;"':e.options.height&&"number"==typeof e.options.height&&(l=' style="height:'+e.options.height+'px;overflow:auto;"'),"image"!=e.options.type&&"video"!=e.options.type&&"instagram"!=e.options.type&&!e.options.fullscreen||(l=""),""),o=(e.is_touch()&&(s=' style="cursor:pointer;"'),'<div class="modaal-wrapper modaal-'+e.options.type+t+o+n+e.options.custom_class+'" id="'+e.scope.id+'"><div class="modaal-outer-wrapper"><div class="modaal-inner-wrapper"'+s+">");"video"!=e.options.type&&(o+='<div class="modaal-container"'+l+">"),o+='<div class="'+i+' modaal-focus" aria-hidden="false" aria-label="'+e.options.accessible_title+" - "+e.options.close_aria_label+'" role="dialog">',"inline"==e.options.type?o+='<div class="modaal-content-container" role="document"></div>':o+=a,o+="</div>"+e.scope.close_btn,"video"!=e.options.type&&(o+="</div>"),o+="</div>","image"==e.options.type&&!0===e.options.outer_controls&&(o+=e.scope.prev_btn+e.scope.next_btn),o+="</div></div>",u("#"+e.scope.id+"_overlay").length<1&&e.dom.append(o),"inline"==e.options.type&&a.appendTo("#"+e.scope.id+" .modaal-content-container"),e.modaal_overlay("show")},create_basic:function(){var a=u(this.scope.source),t="";a.length?(t=a.contents().detach(),a.empty()):t="Content could not be loaded. Please check the source and try again.",this.build_modal(t)},create_instagram:function(){var e=this,a=e.options.instagram_id,t="",o="Instagram photo couldn't be loaded, please check the embed code and try again.";return e.build_modal('<div class="modaal-content-container'+(""!=e.options.loading_class?" "+e.options.loading_class:"")+'">'+e.options.loading_content+"</div>"),""!=a&&null!=a?u.ajax({url:"https://api.instagram.com/oembed?url=http://instagr.am/p/"+a+"/",dataType:"jsonp",cache:!1,success:function(a){e.dom.append('<div id="temp-ig" style="width:0;height:0;overflow:hidden;">'+a.html+"</div>"),e.dom.attr("data-igloaded")?window.instgrm.Embeds.process():e.dom.attr("data-igloaded","true");var t="#"+e.scope.id+" .modaal-content-container";0<u(t).length&&setTimeout(function(){u("#temp-ig").contents().clone().appendTo(t),u("#temp-ig").remove()},1e3)},error:function(){t=o;var a=u("#"+e.scope.id+" .modaal-content-container");0<a.length&&(a.removeClass(e.options.loading_class).addClass(e.options.ajax_error_class),a.html(t))}}):t=o,!1},fetch_ajax:function(a){var e=this;null==e.options.accessible_title&&(e.options.accessible_title="Dialog Window"),null!==e.xhr&&(e.xhr.abort(),e.xhr=null),e.build_modal('<div class="modaal-content-container'+(""!=e.options.loading_class?" "+e.options.loading_class:"")+'">'+e.options.loading_content+"</div>"),e.xhr=u.ajax(a,{success:function(a){var t=u("#"+e.scope.id).find(".modaal-content-container");0<t.length&&(t.removeClass(e.options.loading_class),t.html(a),e.options.ajax_success.call(e,t))},error:function(a){"abort"!=a.statusText&&0<(a=u("#"+e.scope.id+" .modaal-content-container")).length&&(a.removeClass(e.options.loading_class).addClass(e.options.ajax_error_class),a.html("Content could not be loaded. Please check the source and try again."))}})},create_confirm:function(){var a=this,t='<div class="modaal-content-container"><h1 id="modaal-title">'+a.options.confirm_title+'</h1><div class="modaal-confirm-content">'+a.options.confirm_content+'</div><div class="modaal-confirm-wrap"><button type="button" class="modaal-confirm-btn modaal-ok" aria-label="Confirm">'+a.options.confirm_button_text+'</button><button type="button" class="modaal-confirm-btn modaal-cancel" aria-label="Cancel">'+a.options.confirm_cancel_button_text+"</button></div></div></div>";a.build_modal(t)},create_image:function(){var a=this,t="";if(a.$elem.is("[data-group]")||a.$elem.is("[rel]")){var e=a.$elem.is("[data-group]"),o=e?a.$elem.attr("data-group"):a.$elem.attr("rel"),e=u(e?'[data-group="'+o+'"]':'[rel="'+o+'"]'),r=(e.removeAttr("data-gallery-active","is_active"),a.$elem.attr("data-gallery-active","is_active"),o=e.length-1,[]),t='<div class="modaal-gallery-item-wrap">';e.each(function(a,t){var e="",o="",i="",n=!1,l=!1,s=t.getAttribute("data-modaal-desc"),c=t.getAttribute("data-gallery-active"),t=(u(t).attr("data-modaal-content-source")?e=u(t).attr("data-modaal-content-source"):u(t).attr("href")?e=u(t).attr("href"):u(t).attr("src")?e=u(t).attr("src"):(e="trigger requires href or data-modaal-content-source attribute",l=!0),i=""!=s&&null!=s?'<div class="modaal-gallery-label"><span class="modaal-accessible-hide">Image '+(a+1)+" - </span>"+(o=s).replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</div>":'<div class="modaal-gallery-label"><span class="modaal-accessible-hide">Image '+(a+1)+"</span></div>",{url:e,alt:o,rawdesc:s,desc:i,active:n=c?!0:n,src_error:l});r.push(t)});for(var i=0;i<r.length;i++){var n="",l=r[i].rawdesc?"Image: "+r[i].rawdesc:"Image "+i+" no description",s=(r[i].active&&(n=" "+a.private_options.active_class),r[i].src_error?r[i].url:'<img src="'+r[i].url+'" alt=" " style="width:100%">');t+='<div class="modaal-gallery-item gallery-item-'+i+n+'" aria-label="'+l+'">'+s+r[i].desc+"</div>"}t+="</div>",1!=a.options.outer_controls&&(t+=a.scope.prev_btn+a.scope.next_btn)}else{var c,e=!1,d=(a.$elem.attr("data-modaal-content-source")?c=a.$elem.attr("data-modaal-content-source"):a.$elem.attr("href")?c=a.$elem.attr("href"):a.$elem.attr("src")?c=a.$elem.attr("src"):(c="trigger requires href or data-modaal-content-source attribute",e=!0),""),l="",s=(a.$elem.attr("data-modaal-desc")?(l=a.$elem.attr("data-modaal-desc"),d='<div class="modaal-gallery-label"><span class="modaal-accessible-hide">Image - </span>'+a.$elem.attr("data-modaal-desc").replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</div>"):l="Image with no description",e?c:'<img src="'+c+'" alt=" " style="width:100%">');t='<div class="modaal-gallery-item is_active" aria-label="'+l+'">'+s+d+"</div>"}e=t,a.build_modal(e),u(".modaal-gallery-item.is_active").is(".gallery-item-0")&&u(".modaal-gallery-prev").hide(),u(".modaal-gallery-item.is_active").is(".gallery-item-"+o)&&u(".modaal-gallery-next").hide()},gallery_update:function(a){var i,n,l,s,c,r,d=this,m=u("#"+d.scope.id),p=m.find(".modaal-gallery-item").length-1;return 0!=p&&(i=m.find(".modaal-gallery-prev"),n=m.find(".modaal-gallery-next"),s=l=0,c=m.find(".modaal-gallery-item."+d.private_options.active_class),r="next"==a?c.next(".modaal-gallery-item"):c.prev(".modaal-gallery-item"),d.options.before_image_change.call(d,c,r),!("prev"==a&&m.find(".gallery-item-0").hasClass("is_active")||"next"==a&&m.find(".gallery-item-"+p).hasClass("is_active")))&&void c.stop().animate({opacity:0},250,function(){r.addClass("is_next").css({position:"absolute",display:"block",opacity:0});var a=u(document).width(),t=1140<a?280:50,e=(l=m.find(".modaal-gallery-item.is_next").width(),s=m.find(".modaal-gallery-item.is_next").height(),m.find(".modaal-gallery-item.is_next img").prop("naturalWidth")),o=m.find(".modaal-gallery-item.is_next img").prop("naturalHeight");s=a-t<e?(l=a-t,m.find(".modaal-gallery-item.is_next").css({width:l}),m.find(".modaal-gallery-item.is_next img").css({width:l}),m.find(".modaal-gallery-item.is_next").find("img").height()):(l=e,o),m.find(".modaal-gallery-item-wrap").stop().animate({width:l,height:s},250,function(){c.removeClass(d.private_options.active_class+" "+d.options.gallery_active_class).removeAttr("style"),c.find("img").removeAttr("style"),r.addClass(d.private_options.active_class+" "+d.options.gallery_active_class).removeClass("is_next").css("position",""),r.stop().animate({opacity:1},250,function(){u(this).removeAttr("style").css({width:"100%"}),u(this).find("img").css("width","100%"),m.find(".modaal-gallery-item-wrap").removeAttr("style"),d.options.after_image_change.call(d,r)}),m.find(".modaal-gallery-item").removeAttr("tabindex"),m.find(".modaal-gallery-item."+d.private_options.active_class).attr("tabindex","0").focus(),m.find(".modaal-gallery-item."+d.private_options.active_class).is(".gallery-item-0")?i.stop().animate({opacity:0},150,function(){u(this).hide()}):i.stop().css({display:"block",opacity:i.css("opacity")}).animate({opacity:1},150),m.find(".modaal-gallery-item."+d.private_options.active_class).is(".gallery-item-"+p)?n.stop().animate({opacity:0},150,function(){u(this).hide()}):n.stop().css({display:"block",opacity:i.css("opacity")}).animate({opacity:1},150)})})},create_video:function(a){this.build_modal('<div class="modaal-video-container">'+('<iframe src="'+a+'" class="modaal-video-frame" frameborder="0" allowfullscreen></iframe>')+"</div>")},create_iframe:function(a){var t=this,a=null!==t.options.width||void 0!==t.options.width||null!==t.options.height||void 0!==t.options.height?'<iframe src="'+a+'" class="modaal-iframe-elem" frameborder="0" allowfullscreen></iframe>':'<div class="modaal-content-container">Please specify a width and height for your iframe</div>';t.build_modal(a)},modaal_open:function(){var a=this,t=u("#"+a.scope.id),e=a.options.animation;"none"===e&&(t.removeClass("modaal-start_none"),a.options.after_open.call(a,t)),"fade"===e&&t.removeClass("modaal-start_fade"),"slide-down"===e&&t.removeClass("modaal-start_slide_down");u(".modaal-wrapper *[tabindex=0]").removeAttr("tabindex"),("image"==a.options.type?u("#"+a.scope.id).find(".modaal-gallery-item."+a.private_options.active_class):t.find(".modaal-iframe-elem").length?t.find(".modaal-iframe-elem"):t.find(".modaal-video-wrap").length?t.find(".modaal-video-wrap"):t.find(".modaal-focus")).attr("tabindex","0").focus(),"none"!==e&&setTimeout(function(){a.options.after_open.call(a,t)},a.options.after_callback_delay)},modaal_close:function(){var a=this,t=u("#"+a.scope.id);a.options.before_close.call(a,t),null!==a.xhr&&(a.xhr.abort(),a.xhr=null),"none"===a.options.animation&&t.addClass("modaal-start_none"),"fade"===a.options.animation&&t.addClass("modaal-start_fade"),"slide-down"===a.options.animation&&t.addClass("modaal-start_slide_down"),setTimeout(function(){"inline"==a.options.type&&u("#"+a.scope.id+" .modaal-content-container").contents().detach().appendTo(a.scope.source),t.remove(),a.options.after_close.call(a),a.scope.is_open=!1},a.options.after_callback_delay),a.modaal_overlay("hide"),null!=a.lastFocus&&a.lastFocus.focus()},modaal_overlay:function(a){var t=this;"show"==a?(t.scope.is_open=!0,t.options.background_scroll||t.dom.addClass("modaal-noscroll"),u("#"+t.scope.id+"_overlay").length<1&&t.dom.append('<div class="modaal-overlay" id="'+t.scope.id+'_overlay"></div>'),u("#"+t.scope.id+"_overlay").css("background",t.options.background).stop().animate({opacity:t.options.overlay_opacity},t.options.animation_speed,function(){t.modaal_open()})):"hide"==a&&u("#"+t.scope.id+"_overlay").stop().animate({opacity:0},t.options.animation_speed,function(){u(this).remove(),t.dom.removeClass("modaal-noscroll")})},is_touch:function(){return"ontouchstart"in window||navigator.maxTouchPoints}},n=[],u.fn.modaal=function(o){return this.each(function(a){var t=u(this).data("modaal");if(t){if("string"==typeof o)switch(o){case"open":t.create_modaal(t);break;case"close":t.modaal_close()}}else{var e=Object.create(i);e.init(o,this),u.data(this,"modaal",e),n.push({element:u(this).attr("class"),options:o})}})},u.fn.modaal.options={type:"inline",content_source:null,animation:"fade",animation_speed:300,after_callback_delay:350,is_locked:!1,hide_close:!1,background:"#000",overlay_opacity:"0.8",overlay_close:!0,accessible_title:"Dialog Window",start_open:!1,fullscreen:!1,custom_class:"",background_scroll:!1,should_open:!0,close_text:"Close",close_aria_label:"Close (Press escape to close)",width:null,height:null,before_open:function(){},after_open:function(){},before_close:function(){},after_close:function(){},source:function(a,t){return t},confirm_button_text:"Confirm",confirm_cancel_button_text:"Cancel",confirm_title:"Confirm Title",confirm_content:"<p>This is the default confirm dialog content. Replace me through the options</p>",confirm_callback:function(){},confirm_cancel_callback:function(){},gallery_active_class:"gallery_active_item",outer_controls:!1,before_image_change:function(a,t){},after_image_change:function(a){},loading_content:'<div class="modaal-loading-spinner"><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div></div>',loading_class:"is_loading",ajax_error_class:"modaal-error",ajax_success:function(){},instagram_id:null},u(function(){var a=u(".modaal"),t=(a.length&&a.each(function(){c(u(this))}),new MutationObserver(function(a){a.forEach(function(a){a.addedNodes&&0<a.addedNodes.length&&[].some.call(a.addedNodes,function(a){var t=u(a);(t.is("a")||t.is("button"))&&(t.hasClass("modaal")?c(t):n.forEach(function(a){if(a.element==t.attr("class"))return u(t).modaal(a.options),!1}))})})})),e={subtree:!0,attributes:!0,childList:!0,characterData:!0};setTimeout(function(){t.observe(document.body,e)},500)}),a=jQuery,(o=a)(".acf-flexible-content .layout").addClass("-collapsed"),o("#acf-flexible-content-collapse").detach(),o("#rdsn-acf-repeater-collapse").detach(),KSFilterJS.addFilter("DataModaalSettings",function(a,t){return a.custom_class="component-request-modaal",a}),0!==(o=(t=a)(".modal-inline")).length&&o.each(function(){var a=KSFilterJS.applyFilters("DataModaalSettings",t(this).data("modaal-settings"),t(this));console.log(a),t(this).modaal(a)}),(l=a)("#ks-delete-build-images").on("click",function(a){a.preventDefault(),l.ajax({url:KsAdmin.ajax_url,type:"POST",data:{action:"deleteBuildImages"},beforeSend:function(){l("#ks-delete-build-images-message").html('<span style="color:red">Deleting build images. Please wait ...</span>'),l("#ks-delete-build-images").hide(),l(".acf-field-426ef67c").find(".acf-input").remove()},success:function(a){l("#ks-delete-build-images-message").empty().removeAttr("style"),l("html, body").animate({scrollTop:0},"slow");const t=l(`
									<div class="acf-admin-notice notice notice-success is-dismissible" data-persisted="false">
											<p>Build Images deleted</p>
											<button type="button" class="notice-dismiss">
													<span class="screen-reader-text">Dismiss this notice.</span>
											</button>
									</div>`).appendTo(".acf-settings-wrap h1");t.find(".notice-dismiss").on("click",function(){t.fadeOut("slow",function(){l(this).remove()})}),setTimeout(function(){location.reload()},3e3)},error:function(a){alert("Error: "+a.data)}})}),p(a),r(a),d(a),m(a),(s=a)('.ks-admin-form input[type="checkbox"]').on("change",function(){var a=s(this).closest("label");s(this).prop("checked")?a.addClass("active"):a.removeClass("active")})}();