!function(){var e={4184:function(e,t){var a;!function(){"use strict";var o={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var n=typeof a;if("string"===n||"number"===n)e.push(a);else if(Array.isArray(a)){if(a.length){var i=r.apply(null,a);i&&e.push(i)}}else if("object"===n){if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]")){e.push(a.toString());continue}for(var l in a)o.call(a,l)&&a[l]&&e.push(l)}}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(a=function(){return r}.apply(t,[]))||(e.exports=a)}()}},t={};function a(o){var r=t[o];if(void 0!==r)return r.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,a),n.exports}a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},a.d=function(e,t){for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=window.wp.element,t=window.wp.i18n,o=window.lodash,r=window.wp.components,n=a(4184),i=a.n(n),l=function(t){let{icon:a,size:o=24,...r}=t;return(0,e.cloneElement)(a,{width:o,height:o,...r})},c=window.wp.primitives,m=(0,e.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(c.Path,{d:"M18.5 15v3.5H13V6.7l4.5 4.1 1-1.1-6.2-5.8-5.8 5.8 1 1.1 4-4v11.7h-6V15H4v5h16v-5z"}));class s extends e.Component{constructor(){super(...arguments),this.state={frame:!1},this.openModal=this.openModal.bind(this),this.handleImageSelect=this.handleImageSelect.bind(this),this.removeImage=this.removeImage.bind(this)}openModal(){if(this.state.frame)return void this.state.frame.open();const e=wp.media({title:(0,t.__)("Select or upload image","woocommerce-product-filters"),button:{text:(0,t.__)("Select","woocommerce-product-filters")},library:{type:"image"},multiple:!1});e.on("select",this.handleImageSelect),e.open(),this.setState({frame:e})}handleImageSelect(){const{onChange:e}=this.props;e(this.state.frame.state().get("selection").first().toJSON())}removeImage(){const{onChange:e}=this.props;e(null)}render(){const{className:a,image:o,label:n}=this.props;return(0,e.createElement)(e.Fragment,null,!!o&&(0,e.createElement)("div",{className:i()("woocommerce-image-upload","has-image",a)},(0,e.createElement)("div",{className:"woocommerce-image-upload__image-preview"},(0,e.createElement)("img",{src:o.url,alt:""})),(0,e.createElement)(r.Button,{isSecondary:!0,className:"woocommerce-image-upload__remove-image",onClick:this.removeImage},(0,t.__)("Remove image","woocommerce-product-filters"))),!o&&(0,e.createElement)("div",{className:i()("woocommerce-image-upload","no-image",a)},(0,e.createElement)(r.Button,{className:"woocommerce-image-upload__add-image",onClick:this.openModal,isSecondary:!0},(0,e.createElement)(l,{icon:m,style:{marginRight:"10px"}})," ",n)))}}var d=s;const u=jQuery("#wcf_term_image");const p=document.getElementById("wcf-term-image-root");(0,e.render)((0,e.createElement)((a=>{const r=!(!(0,o.has)(a,"data.isEditPage")||"yes"!==a.data.isEditPage)&&a.data.isEditPage,n=r?a.data.attachmentId:null,i=r&&!(0,o.isEmpty)(a.data.image)?{url:a.data.image,id:n}:null,[l,c]=(0,e.useState)(i),[m,s]=(0,e.useState)(n);(0,e.useEffect)((()=>{u.val(m)}),[m,l]);const p=(0,e.createElement)("div",{className:"wcf-image-uploader"},(0,e.createElement)(d,{image:l,label:(0,t.__)("Upload/Add image","woocommerce-product-filters"),onChange:e=>{c(e),s((0,o.has)(e,"id")?e.id:null)}}));return r?(0,e.createElement)("tr",{className:"form-field term-image-wrap"},(0,e.createElement)("th",{scope:"row"},(0,e.createElement)("label",null,(0,t.__)("Filter image","woocommerce-product-filters"))),(0,e.createElement)("td",null,p)):(0,e.createElement)(e.Fragment,null,(0,e.createElement)("p",null,(0,t.__)("Filter image","woocommerce-product-filters")),p)}),{data:p.dataset}),p)}()}();