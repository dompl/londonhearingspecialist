"use strict";(self.webpackChunkwoocommerce_filters=self.webpackChunkwoocommerce_filters||[]).push([[203],{6509:function(e,t,a){a.r(t);var l=a(9307),r=a(9196),n=a(4988),u=a(9978),s=a(9512),c=a(5236),o=a(2629),i=a(7536),f=a(374),m=a(389),g=a(2819),d=a(9950),v=a(4271);const h=WCF_Frontend,E=(0,v.zo)();t.default=e=>{let{name:t,value:a,setValue:p,options:w,group:_,...y}=e;const{watch:b,resetField:C}=(0,i.Gc)(),F="yes"===h.filter_num_products,{submittedValues:k,getStoredValue:S,getGroup:B,getInitialCounts:V,counts:z,prefilledValues:T,setPrefilling:Z}=(0,m.CR)(),A=S(_,t),G=b(t,A),[H,R]=(0,r.useState)(!1),[Y,I]=(0,r.useState)([]),M=B(_),N=!!(0,g.has)(M,"data."+y.facet.slug)&&(0,r.useMemo)((()=>M.data[y.facet.slug]),[M.data[y.facet.slug]]);if(!N)return(0,l.createElement)(l.Fragment,null,E.no_values_cf);(0,c.H)((function(){const e=V(t);(0,g.has)(z,t)?I(z[t]):I(e),"horizontal"===y.layout&&(0,g.has)(k,t)&&R(Array.isArray(k[t])?k[t].toString():[])}));const P=e=>{var t;return null!==(t=Y.find((t=>t.facet_value===e))?.counter)&&void 0!==t?t:0};return(0,r.useEffect)((()=>{const e=G;e!==H&&R(!(0,g.isEmpty)(e)&&e)}),[G]),(0,r.useEffect)((()=>{(0,g.has)(T,t)&&(Z(!0),p(t,T[t].toString()),Z(!1))}),[T]),(0,r.useEffect)((()=>{(0,g.has)(k,t)||!0!==y.mobile||(Z(!0),C(t),Z(!1))}),[k]),(0,r.useEffect)((()=>{"horizontal"!==y.layout&&(0,m.BB)(I,t)}),[]),(0,r.useEffect)((()=>(v.YB.on("filterToggled-"+t,(e=>{p(t,""),C(t),R(!1)})),()=>{v.YB.remove("filterToggled-"+t)})),[]),(0,f.Z)("wcf-reset-filters",(()=>{Z(!0),p(t,""),R(!1),Z(!1)})),(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",{id:"wcf-items-container-"+t},(0,l.createElement)(u.Z,{value:H,onChange:e=>(e=>{R(e),p(t,e)})(e.currentTarget.value),name:"number",align:s.H.vertical},(()=>{const e=[];return(0,g.forEach)(N,((t,a)=>{if(!P(t.value)||0==P(t.value))return!0;const r=React.createElement(n.Z,{overrides:(0,d.oU)(0),value:t.value,key:t.value},(0,l.createElement)(l.Fragment,null,(0,o.decodeEntities)(t.label),F&&(0,l.createElement)("span",{className:"wcf-choices-counter"},"(",P(t.value),")")));e.push(r)})),e})())))}}}]);