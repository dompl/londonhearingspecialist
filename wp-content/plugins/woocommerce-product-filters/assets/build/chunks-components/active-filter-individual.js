"use strict";(self.webpackChunkwoocommerce_filters=self.webpackChunkwoocommerce_filters||[]).push([[98],{1984:function(e,t,n){var l=n(9307);t.Z=function(e){let{icon:t,size:n=24,...s}=e;return(0,l.cloneElement)(t,{width:n,height:n,...s})}},7231:function(e,t,n){var l=n(9307),s=n(444);const i=(0,l.createElement)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(s.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"}));t.Z=i},482:function(e,t,n){n.r(t);var l=n(9307),s=n(2629),i=n(1984),r=n(7231),a=n(2819),c=n(7536),o=n(389),u=n(4271),f=n(7826),m=n.n(f);t.default=e=>{let{filter:t,value:n,filters:f}=e;const d=(0,a.isEmpty)((0,c.Gc)())?"":(0,c.Gc)().setValue,g=(0,a.isEmpty)((0,c.Gc)())?"":(0,c.Gc)().resetField,p=["categories","tags","attributes","colors","taxonomy"].includes(t.filter_by)||t.filter_by.startsWith("tax_"),y=["labels","checkboxes","images","colors"].includes(t.options.filter_type),E="cf"===t.filter_by,{orderby:h,paged:v,submittedValues:_,database_data:b}=(0,o.CR)(),w=()=>{let e="";if((0,a.has)(_,t.slug)){const n=_[t.slug],l=b[t.slug],s="true_false"===t.options.filter_type;if((0,a.isUndefined)(l)||!Array.isArray(l))return;if(s)return t.name;const i=l.find((e=>e.value===n));i?.label&&(e=i.label),"0"===i?.label&&(e=t.name)}return e},F=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if((()=>{const e=[];return(0,a.forEach)(f,((t,n)=>{const l=t.value;Array.isArray(l)?(0,a.forEach)(l,((t,n)=>{e.push(t)})):e.push(t.slug)})),e})().length<=1)return void(0,u.sq)({});const l=JSON.parse(JSON.stringify(_)),s=(p||y)&&"range"!==t.options.filter_type,i=(0,u.w2)()&&"button"===WCF_Frontend.filter_mode,r="instant"!==WCF_Frontend.filter_mode||"instant"===WCF_Frontend.filter_mode&&!(0,a.isFunction)(g);if(s){const s=(e=>{let t=[],n=!1;return e.forEach((e=>{(0,a.has)(e,"value")&&(n=!0)})),!0===n?e.forEach((e=>{t.push(e.value)})):t=e,t})(n.filter((t=>t.value!==e)));Array.isArray(s)&&!(0,a.isEmpty)(s)?(0,a.isFunction)(d)&&d(t.slug,s):(0,a.isFunction)(g)&&g(t.slug),l[t.slug]=s,u.YB.dispatch("filterToggled-"+t.slug,{slug:t.slug,context:(0,a.isFunction)(g),value:s})}else l[t.slug]=!1,(0,a.isFunction)(g)&&g(t.slug),u.YB.dispatch("filterToggled-"+t.slug,{slug:t.slug,context:(0,a.isFunction)(g)});if(i)(0,u.sq)(m()(l),h);else if(r)try{await o.cX.run({values:JSON.stringify(l),reset:(0,a.isEmpty)((0,a.pickBy)(l)),orderby:h,paged:v})}catch(e){console.error(e)}};return p&&"range"!==t.options.filter_type?(0,l.createElement)(l.Fragment,null,n.map(((e,t)=>{let{value:n,name:a}=e;const c=n;return(0,l.createElement)("p",{key:t,className:"wcf-active-filter"},(0,l.createElement)("span",null,(0,s.decodeEntities)(a),(0,l.createElement)(i.Z,{icon:r.Z,size:22,onClick:e=>F(c)})))}))):E&&!(0,a.isEmpty)(w())?(0,l.createElement)("p",{className:"wcf-active-filter"},(0,l.createElement)("span",null,(0,s.decodeEntities)(w()),(0,l.createElement)(i.Z,{icon:r.Z,size:22,onClick:e=>F()}))):(0,l.createElement)("p",{className:"wcf-active-filter"},(0,l.createElement)("span",null,(0,s.decodeEntities)(t.name),(0,l.createElement)(i.Z,{icon:r.Z,size:22,onClick:e=>F()})))}}}]);