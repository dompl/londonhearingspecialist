"use strict";(self.webpackChunkwoocommerce_filters=self.webpackChunkwoocommerce_filters||[]).push([[7383],{6438:function(t,e,r){r.r(e);var s=r(9307),i=r(5736),n=r(2819),o=r(9196),a=r(5236),u=r(6483),c=r(5935),l=r(389),f=r(4271);const m=WCF_Frontend,p=(0,f.zo)();e.default=()=>{(0,u.addQueryArgs)(m.admin_url,{page:"wc-settings",tab:"filters",section:"filters-editor"});const{filters:t}=(0,l.CR)(),[e,r]=(0,o.useState)(null),f=m.is_reindexing,d=t=>{if("attributes"===t.filter_by){const e=t.options.attributes_mode,r=t.options.specific_attribute;return"all"===e?"all_attributes":r}return"taxonomy"===t.filter_by?t.options.taxonomy:t.filter_by};(0,a.H)((()=>{const e=(()=>{const e=[];if(!(0,n.isEmpty)(t)){t.forEach(((t,r)=>{e.push({id:t.id,name:t.name,filter_by:(0,n.includes)(["taxonomy","attributes","colors"],t.filter_by)?d(t):t.filter_by})}));const r=e.reduce(((t,e)=>(t[e.filter_by]=++t[e.filter_by]||0,t)),{});return r?.cf&&delete r.cf,e.filter((t=>r[t.filter_by]))}return!1})();if(!(0,n.isEmpty)(e)&&Array.isArray(e)){const t=(0,n.map)(e,"name");r((0,i.sprintf)(p.supervisor_dupes,t.join(", "),"https://barn2.com/kb/filters-same-data-source"))}!0===(()=>{const t=document.getElementsByClassName("wcf-group-wrapper"),e=[];let r=!1;return(0,n.forEach)(t,((t,s)=>{const i=t.dataset,o=e.find((t=>t.id==i.groupId));if(e.push({id:i.groupId}),!(0,n.isEmpty)(o))return r=!0,!1})),r})()&&r((0,i.sprintf)(p.supervisor_unique,"https://barn2.com/kb/filters-same-data-source"))}));const y=()=>{const t=p.reindex_required;return f&&!(0,n.isEmpty)(e)?e+"<hr/>"+t:(0,n.isEmpty)(e)&&f?p.supervisor_title+" "+t:e};if((0,n.isEmpty)(y()))return null;const b=document.getElementsByTagName("body"),_=(0,s.createElement)("div",{className:"wcf-supervisor-message"},(0,c.ZP)(y()));return(0,s.createPortal)(_,b[0])}}}]);