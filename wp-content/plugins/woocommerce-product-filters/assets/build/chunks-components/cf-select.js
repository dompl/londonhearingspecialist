"use strict";(self.webpackChunkwoocommerce_filters=self.webpackChunkwoocommerce_filters||[]).push([[226],{7061:function(e,t,l){l.r(t);var n=l(9307),s=l(4376),a=l(2819),o=l(7536),r=l(5236),u=l(598),c=l(374),i=l(389),f=l(9950),d=l(4271);const m=WCF_Frontend,g=(0,d.zo)();t.default=e=>{let{name:t,value:l,setValue:p,options:h,group:b,...E}=e;const{watch:v,resetField:_}=(0,o.Gc)(),{layout:w}=(m.filter_num_products,E),{getGroup:C,getInitialCounts:F,counts:k,prefilledValues:y,setPrefilling:B,getStoredValue:S}=(0,i.CR)(),z=S(b,t),R=v(t,z),V=C(b),G=!!(0,a.has)(V,"data."+E.facet.slug)&&(0,n.useMemo)((()=>V.data[E.facet.slug]),[V.data[E.facet.slug]]);if(!G)return(0,n.createElement)(n.Fragment,null,g.no_values_cf);const H=(0,s.Lm)()<960,[L,M]=(0,n.useState)(null),[T,U]=(0,n.useState)([]);(0,r.H)((function(){const e=F(t);(0,a.has)(k,t)?U(k[t]):U(e)})),(0,n.useEffect)((()=>{const e=R;if((0,a.isUndefined)(e)||!1===e)M([]);else if(!(0,a.isUndefined)(e)&&!1!==e){const t=G.find((t=>t.value===e));t&&M([t])}}),[R]),(0,n.useEffect)((()=>{if((0,a.has)(y,t)){const e=y[t].toString();G.find((t=>t.value===e))&&(B(!0),p(t,e),B(!1))}}),[y]),(0,n.useEffect)((()=>((0,i.BB)(U,t),d.YB.on("filterToggled-"+t,(e=>{p(t,[]),_(t),M(null)})),()=>{d.YB.remove("filterToggled-"+t)})),[]),(0,c.Z)("wcf-reset-filters",(()=>{B(!0),_(t),M(null),B(!1)}));const Y=(e=>{const t=[];return(0,a.isEmpty)(T)?[]:((0,a.forEach)(e,((e,l)=>{t.push({label:e.label,id:e.value})})),t)})(G),Z=m.searchable_mobile;return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(u.Z,{options:Y,value:L,placeholder:(0,a.isEmpty)(Y)?g.no_options:E.label,onChange:e=>(e=>{const l=(0,a.map)(e,"id");M(e),p(t,l[0])})(e.value),searchable:H&&Z,overrides:"horizontal"===w?f.Rd:f.Hz,noResultsMsg:g.no_results,clearable:!1,disabled:(0,a.isEmpty)(Y),getOptionLabel:e=>{let{option:t}=e;return(0,n.createElement)(n.Fragment,null,t.label)}}))}}}]);