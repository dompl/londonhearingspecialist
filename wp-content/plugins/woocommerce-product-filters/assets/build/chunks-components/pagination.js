(self.webpackChunkwoocommerce_filters=self.webpackChunkwoocommerce_filters||[]).push([[625],{4712:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var r=a(9307),n=a(9196),s=a(6483),o=a(5697),c=a.n(o),u=a(7738);const l=e=>{const[t,a]=(0,n.useState)(1);e.currentPage&&t!==e.currentPage&&a(parseInt(e.currentPage,10));const{total:s,limit:o,pageCount:c,className:l}=e,i=(0,u.UM)({limit:o,pageCount:c,total:s,page:t}),{firstPage:g,lastPage:p,hasNextPage:m,hasPreviousPage:f,previousPage:P,nextPage:h,totalPages:d}=i,b=s>0?(0,u.rx)(g,p):[];return(0,r.createElement)("div",{className:l},e.children({pages:b,previousPage:P,nextPage:h,totalPages:d,currentPage:t,hasNextPage:m,hasPreviousPage:f,getPageItemProps:e=>{const{pageValue:t,onPageChange:r,...n}=e;return{onClick:e=>{"function"==typeof r&&r(t,e),a(t)},...n}}}))};l.propTypes={total:c().number.isRequired,className:c().string,limit:c().number,pageCount:c().number,currentPage:c().number,pageValue:c().number,children:c().func.isRequired,onPageChange:c().func},l.defaultProps={limit:10,pageCount:5,currentPage:0,pageValue:0};var i=l,g=a(389);const p=WCF_Frontend;var m=()=>{const{productsCount:e,getStoredValues:t,orderby:a,isFiltering:o,hasNextPage:c}=(0,g.CR)(),u=()=>{const{values:e}=g.Gd.getRawState(),t={};for(const[a,r]of Object.entries(e))for(const[e,a]of Object.entries(r))t[e]=a;return t};let l=1;"undefined"!=typeof WCF_Prefiller&&(l=WCF_Prefiller.paged);const m=!1===e?p.products_count:e,f=p.posts_per_page,[P,h]=(0,n.useState)(l),d=f,b=m,y=p.infinite_scroll,v=(0,n.useRef)(null),C=async(e,r)=>{if(r.preventDefault(),e!==P)try{await g.cX.run({values:JSON.stringify(t()),paged:e,orderby:a})}catch(e){console.error(e)}},E=e=>(0,s.addQueryArgs)(document.URL,{paged:e});(0,n.useEffect)((()=>{const e=g.Gd.subscribe((e=>e.paged),(e=>h(e)));return()=>{e()}}),[]);const x=e=>{setTimeout((()=>{e.forEach(((t,r)=>{const n=r===e.length-1;if(t.isIntersecting&&"true"===t.target.dataset.hasNextPage&&t.target.dataset.nextpage!==P&&n)try{g.cX.run({values:JSON.stringify(u()),paged:t.target.dataset.nextpage,orderby:a})}catch(e){console.error(e)}}))}),1e3)};return(0,n.useEffect)((()=>{if(!y)return()=>!1;const e=new IntersectionObserver(x,{root:null,threshold:.5});return v.current&&e.observe(v.current),()=>{v.current&&e.unobserve(v.current)}}),[]),(0,r.createElement)(i,{className:"wcf-pagination-wrapper",total:b,limit:d,pageCount:5,currentPage:parseInt(P)},(e=>{let{pages:t,currentPage:a,hasNextPage:n,hasPreviousPage:s,previousPage:o,nextPage:c,getPageItemProps:u}=e;return(0,r.createElement)("nav",{className:"woocommerce-pagination"},y?(0,r.createElement)(r.Fragment,null,t.length>1&&(0,r.createElement)("div",{className:"wcf-infinite-scrolling","data-nextpage":c,"data-has-next-page":n,ref:v})):(0,r.createElement)(r.Fragment,null,t.length>1&&(0,r.createElement)("ul",{className:"page-numbers"},s&&(0,r.createElement)("li",u({pageValue:o,onPageChange:C}),(0,r.createElement)("a",{href:E(o),className:"page-numbers"},"←")),t.map((e=>a===e?(0,r.createElement)("li",u({pageValue:e,key:e,onPageChange:C}),(0,r.createElement)("span",{"aria-current":"page",className:"page-numbers current"},e)):(0,r.createElement)("li",u({pageValue:e,key:e,onPageChange:C}),(0,r.createElement)("a",{href:E(e),className:"page-numbers"},e)))),n&&(0,r.createElement)("li",u({pageValue:c,onPageChange:C}),(0,r.createElement)("a",{href:E(c),className:"page-numbers"},"→")))))}))}},7738:function(e,t){"use strict";t.rx=function(e,t){return[...Array(t-e+1)].map(((t,a)=>e+a))},t.UM=function(e){const{limit:t,pageCount:a,total:r,page:n}=e,s=Math.ceil(r/t),o=r;let c=n;c<1&&(c=1),c>s&&(c=s);let u=Math.max(1,c-Math.floor(a/2)),l=Math.min(s,c+Math.floor(a/2));l-u+1<a&&(c<s/2?l=Math.min(s,l+(a-(l-u))):u=Math.max(1,u-(a-(l-u)))),l-u+1>a&&(c>s/2?u+=1:l-=1);const i=t*(c-1),g=t*c-1;return{totalPages:s,pages:Math.min(l-u+1,s),currentPage:c,firstPage:u,lastPage:l,previousPage:c-1,nextPage:c+1,hasPreviousPage:c>1,hasNextPage:c<s,totalResults:o,results:Math.min(g-i+1,o),firstResult:i,lastResult:g}}},2703:function(e,t,a){"use strict";var r=a(414);function n(){}function s(){}s.resetWarningCache=n,e.exports=function(){function e(e,t,a,n,s,o){if(o!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:n};return a.PropTypes=a,a}},5697:function(e,t,a){e.exports=a(2703)()},414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}}]);