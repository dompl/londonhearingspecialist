"use strict";(self.webpackChunkwoocommerce_filters=self.webpackChunkwoocommerce_filters||[]).push([[6342],{230:function(e,t,s){s.r(t);var r=s(9307),c=s(9196),l=s(3026),o=s(385),a=s(2629),n=s(2819),i=s(7536),u=s(5236),f=s(374),d=s(389),m=s(4271),h=s(9950);const g=WCF_Frontend;t.default=e=>{let{name:t,value:s,setValue:p,options:E,group:w,...k}=e;const{watch:v}=(0,i.Gc)(),y="yes"===g.filter_num_products,{getStoredValue:C,getInitialCounts:_,counts:b,prefilledValues:B,setPrefilling:S}=(0,d.CR)(),V=C(w,t),A=v(t,V),[F,P]=(0,c.useState)(!1),[T,W]=(0,c.useState)([]);return(0,u.H)((()=>{const e=_(t);(0,n.has)(b,t)?W(b[t]):W(e)})),(0,c.useEffect)((()=>{let e=A;(0,n.isEqual)(e,F)||(0,n.isUndefined)(e)||P(e)}),[A]),(0,c.useEffect)((()=>{(0,n.has)(B,t)&&(S(!0),p(t,"1"===B[t]),S(!1))}),[B]),(0,c.useEffect)((()=>("horizontal"!==k.layout&&(0,d.BB)(W,t),m.YB.on("filterToggled-"+t,(e=>{S(!0),p(t,!1),S(!1)})),()=>{m.YB.remove("filterToggled-"+t)})),[]),(0,f.Z)("wcf-reset-filters",(()=>{S(!0),p(t,!1),P(!1),S(!1)})),(0,r.createElement)(l.Z,{checked:F,labelPlacement:o.Oi.right,overrides:h.W9,onChange:e=>{return s=e.target.checked,P(s),void p(t,s);var s}},(0,a.decodeEntities)(k.label),y&&(0,r.createElement)("span",{className:"wcf-choices-counter"},"(",(0,n.isEmpty)(T)?0:Array.isArray(T)&&!(0,n.isEmpty)(T[0])?T[0].counter:T,")"))}}}]);