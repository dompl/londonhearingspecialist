"use strict";(self.webpackChunkwoocommerce_filters=self.webpackChunkwoocommerce_filters||[]).push([[5798],{7570:function(e,t,l){l.r(t);var a=l(9307),n=l(9196),r=l(9437),o=l(1075),i=l(4376),s=l(5236),u=l(907),c=l(2819),m=l(6502),d=l(9950),f=l(389),y=l(4271);const p=(0,a.lazy)((()=>Promise.all([l.e(1472),l.e(8921)]).then(l.bind(l,5013)).then((e=>({default:e.FlexGrid}))))),h=(0,a.lazy)((()=>Promise.all([l.e(1472),l.e(8921)]).then(l.bind(l,5013)).then((e=>({default:e.FlexGridItem}))))),g=(0,a.lazy)((()=>Promise.all([l.e(5998),l.e(5447)]).then(l.bind(l,2121)))),b=(0,a.lazy)((()=>Promise.all([l.e(5998),l.e(5447)]).then(l.bind(l,3406)))),z=(0,a.lazy)((()=>Promise.all([l.e(3026),l.e(1472),l.e(9385)]).then(l.bind(l,4095)))),E=WCF_Frontend,_=E.button_text,w=E.filter_mode,k=E.horizontal_per_row;t.default=e=>{let{facets:t,groupID:l,values:E,formMethods:v,...P}=e;const{isFiltering:V,getStoredValues:x,orderby:F,isLastRenderedGroup:C,shouldFilterBeHidden:G}=(0,f.CR)(),[S,R]=(0,n.useState)(k),Z=React.useRef(),{width:H}=(0,y.mS)(Z),N=(0,i.Lm)(),W=N<460,q=N>460&&N<960;return(0,s.H)((()=>{W?R(1):q&&R(3)})),(0,n.useEffect)((()=>{R(W?1:q?3:k)}),[H]),(0,a.createElement)(p,{flexGridColumnCount:S,flexGridColumnGap:"scale800",flexGridRowGap:W?"scale500":q?"scale600":"scale800",className:"wcf-horizontal-grid",ref:Z},Object.keys(t).map((function(e,n){const r=t[e],o=r.filter_by,i=r.options.filter_type;let s=(0,a.createElement)(a.Fragment,null);if("dropdown"===i&&(0,y.US)(o))return(0,a.createElement)(h,{key:e},(0,a.createElement)(m.Fk,{group:l,facet:r,value:E[r.slug],setValue:v.setValue,layout:"horizontal"}));if("sorter"===o)return(0,a.createElement)(h,{key:e},(0,a.createElement)(m.HW,{group:l,facet:r,value:E[r.slug],setValue:v.setValue,layout:"horizontal"}));if("categories"===o||"tags"===o||"attributes"===o||"taxonomy"===o||(0,y.US)(o))s=(0,a.createElement)(g,{key:e,facet:r,name:r.name,type:o,layout:"horizontal"},(0,a.createElement)(m.Fk,{group:l,facet:r,value:E[r.slug],setValue:v.setValue,layout:"horizontal"}));else if("colors"===o)s=(0,a.createElement)(g,{key:e,facet:r,name:r.name,type:o,layout:"horizontal"},(0,a.createElement)(z,{name:r.slug,value:E[r.slug],setValue:v.setValue,group:l,facet:r,layout:"horizontal"}));else if("cf"===o){if("dropdown"===r.options.filter_type)return(0,a.createElement)(h,{key:e},(0,a.createElement)(m.yF,{group:l,facet:r,value:E[r.slug],setValue:v.setValue,layout:"horizontal"}));s=(0,a.createElement)(g,{key:e,facet:r,name:r.name,type:o,layout:"horizontal"},(0,a.createElement)(m.yF,{group:l,facet:r,value:E[r.slug],setValue:v.setValue,layout:"horizontal"}))}else s=(0,a.createElement)(g,{key:e,facet:r,name:r.name,type:o,layout:"horizontal"},(0,a.createElement)(m.HW,{group:l,facet:r,value:E[r.slug],setValue:v.setValue,layout:"horizontal"}));return((e,t,l,n)=>{const r=G(e.slug,e.filter_by),o=(0,u.q)(r);if(!0===o&&r||null===o&&r)return null;let i="bottom";return 0===n&&(i="bottomLeft"),W&&(i="bottom"),(0,a.createElement)(h,{key:t},(0,a.createElement)(b,{content:l,facet:e,facetNumber:n,popoverPosition:i}))})(r,e,s,n)})),"button"===w&&(!(0,c.isEmpty)(x())||!(0,c.isEmpty)(F))&&C(l)&&(0,a.createElement)(h,null,(0,a.createElement)("div",{className:"wcf-submit"},(0,a.createElement)(r.Z,{size:o.NO.default,overrides:d.yq,kind:o.TO.primary,type:"primary",isLoading:V},_))))}},6502:function(e,t,l){l.d(t,{yF:function(){return B},HW:function(){return L},Fk:function(){return W}});var a=l(7462),n=l(9307),r=l(9196),o=l(2819),i=l(7536),s=l(374),u=l(9207),c=l(389),m=l(4271),d=l(9950),f=l(4307),y=l(4548);const p=l(3726),h=WCF_Frontend.filter_mode,g=(0,m.zo)();const b=(0,n.lazy)((()=>Promise.all([l.e(3026),l.e(9768),l.e(4630)]).then(l.bind(l,5164)))),z=(0,n.lazy)((()=>Promise.all([l.e(3026),l.e(1893)]).then(l.bind(l,626)))),E=(0,n.lazy)((()=>Promise.all([l.e(5998),l.e(598),l.e(2771)]).then(l.bind(l,5959)))),_=(0,n.lazy)((()=>Promise.all([l.e(5998),l.e(598),l.e(769)]).then(l.bind(l,8136)))),w=(0,n.lazy)((()=>Promise.all([l.e(9768),l.e(5571),l.e(134),l.e(468)]).then(l.bind(l,8653)))),k=(0,n.lazy)((()=>l.e(9908).then(l.bind(l,8186)))),v=(0,n.lazy)((()=>Promise.all([l.e(9768),l.e(1472),l.e(6368)]).then(l.bind(l,3271)))),P=(0,n.lazy)((()=>l.e(4125).then(l.bind(l,553)))),V=(0,n.lazy)((()=>Promise.all([l.e(9233),l.e(6661)]).then(l.bind(l,4801)))),x=(0,n.lazy)((()=>Promise.all([l.e(9233),l.e(1832)]).then(l.bind(l,4933)))),F=(0,n.lazy)((()=>Promise.all([l.e(5998),l.e(598),l.e(3296)]).then(l.bind(l,8595)))),C=(0,n.lazy)((()=>Promise.all([l.e(5998),l.e(598),l.e(226)]).then(l.bind(l,7061)))),G=(0,n.lazy)((()=>Promise.all([l.e(5571),l.e(203)]).then(l.bind(l,6509)))),S=(0,n.lazy)((()=>Promise.all([l.e(3026),l.e(6984)]).then(l.bind(l,5110)))),R=(0,n.lazy)((()=>Promise.all([l.e(3026),l.e(6342)]).then(l.bind(l,230)))),Z=(0,n.lazy)((()=>l.e(2754).then(l.bind(l,7170)))),H=(0,n.lazy)((()=>Promise.all([l.e(9233),l.e(8958)]).then(l.bind(l,2012)))),N={checkboxes:b,dropdown:E,"dropdown-hierarchical":_,radio:w,labels:k,images:v,range:x},W=e=>{let{facet:t,group:l,...r}=e,o=t.options.filter_type;("dropdown"===o&&"true"===t.options?.dropdown_hierarchical||"dropdown"===o&&!0===t.options?.dropdown_hierarchical)&&(o="dropdown-hierarchical");const i=N[o];let s=t.filter_by;return"attributes"===s?s=t.slug:"taxonomy"===s&&(s=t.options.taxonomy),(0,n.createElement)(i,(0,a.Z)({},r,{group:l,label:t.name,name:t.slug,taxonomy:s,facet:t}))},q={checkbox:z,ratings:P,price:V,on_sale:z,in_stock:z,sorter:F,search:e=>{let{name:t,value:l,setValue:a,options:b,group:z,...E}=e;const{watch:_}=(0,i.Gc)(),{getStoredValue:w,prefilledValues:k,setPrefilling:v}=(0,c.CR)(),P=w(z,t),V=_(t,P),[x,F]=(0,r.useState)(""),[C,G]=(0,f.c)(x,500);return(0,y.l)((()=>{"instant"!==h||(0,o.isEmpty)(C)||a(t,p(C))}),[C]),(0,r.useEffect)((()=>{let e=V;(0,o.isEqual)(e,x)||(0,o.isUndefined)(e)||F(e)}),[V]),(0,r.useEffect)((()=>{(0,o.has)(k,t)&&!(0,o.isEqual)(k[t],V)&&(0,o.isEmpty)(V)&&(v(!0),a(t,p(k[t])),v(!1))}),[k]),(0,r.useEffect)((()=>(m.YB.on("filterToggled-"+t,(e=>{v(!0),a(t,""),v(!1)})),()=>{m.YB.remove("filterToggled-"+t)})),[]),(0,s.Z)("wcf-reset-filters",(()=>{v(!0),a(t,""),F(""),v(!1)})),(0,n.createElement)("div",{className:"wcf-text-input"},(0,n.createElement)(u.Z,{value:!1!==x?x:"",onChange:e=>{return l=e.target.value,F(l),void("instant"!==h&&a(t,p(l)));var l},clearOnEscape:!0,overrides:d.aM,placeholder:g.search_products}))}},L=e=>{let{facet:t,group:l,...r}=e;const o=t.filter_by,i=q[o];return(0,n.createElement)(i,(0,a.Z)({},r,{group:l,label:t.name,name:t.slug,facet:t}))},O={dropdown:C,radio:G,checkboxes:S,true_false:R,text:Z,number:H,range:H},B=e=>{let{facet:t,group:l,...r}=e;const o=t.options.cf,i=O[t.options.filter_type];return(0,n.createElement)(i,(0,a.Z)({},r,{group:l,label:t.name,name:t.slug,facet:t,cfConfig:o}))}}}]);